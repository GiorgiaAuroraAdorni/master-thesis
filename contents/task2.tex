\section{Task 2}
\label{sec:task2}

\subsection{Overview}
\label{subsec:desc2}

The second scenario tackles another newsworthy multi-agent coordination task. 
The environment is the same described in Chapter \ref{chap:experiments} as 
well as all the assumption defined in Section \ref{subsec:desc1}.

The only difference lies in the goal shared by the robots: assuming that the agents 
are divided into groups, their purpose is to colour themselves, by turning on their 
top \gls{rgb} \gls{led}, depending on their membership group.

Initially, for the sake of simplicity, we decided to divide the robots into two 
groups. In particular, in case of an even number of agents, the robots in the first 
half of the row belong to the first group and the remaining to the second, while in 
the case of an odd number robots, the agent located in the central position is 
assigned to the first set.

As for the previous task, the problem can be solved performing imitation 
learning, but in this case, the role of communication is fundamental. In fact, what 
makes the difference are not the distances perceived by the robot sensors but the 
messages exchanged between the agents, that are of primal importance in order 
to determine their ordinal position. 

In this scenario, the two ``dead'' robots play an important role: they always 
communicate a message that indicates that they are the only two agents that 
receive communication just from one side.

Each agent can still update its state, that is the same as Task 1, by performing 
actions – in this case not moving along the x-axis but colouring the top \gls{led} 
in red or blue – based on the observations received from the environment – the 
messages received from neighbours – using their sensors. 

Following the example of an omniscient controller, train an end-to-end \gls{nn} 
that takes as input only the communication – transmitted by the nearest 
neighbours in the previous timestep – and produces the colour of the robot 
together with the message to be sent.

\subsection{Controllers}
\label{subsec:task2controllers}

\subsubsection{Expert controller}
\label{subsubsec:omniscient2}

\subsubsection{Manual controller}
\label{subsubsec:manual2}

\subsection{Distributed approach with communication}
\label{subsec:task2comm}

\subsubsection{Model training}
\label{subsubsec:learnedcomm2}

\input{contents/task2_experiments}
